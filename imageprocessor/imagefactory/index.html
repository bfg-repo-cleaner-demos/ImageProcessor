---
layout: class
class: ImageFactory
title: ImageFactory
heading: ImageFactory
subheading: The core class for image manipulation.
sublinks: ["#about|About",
"#example|Example Code"]
---
<section id="about">
    <h1>ImageFactory</h1>
    <p>
        The ImageFactory class provides methods to perform various manipulation functions on a given image. It has been carefully designed to prevent the
        various memory leaks that commonly occur when dealing with images in a performant manner. This makes it safe to use on both Desktop and Web environments.
    </p>
    <p>
        The ImageFactory auto detects the correct file type of the given image and API for the class is fluent which allows you to easily chain methods to deliver the desired output.
        For example, the following code loads, resizes, sets a new format and saves the MemoryStream containing image information.
    </p>
    <div role="alert" class="alert">
        <p>
            The Image Factory class implements the <code>System.IDisposable</code> interface. It is important to dispose of each instance correctly
            to ensure that there are no memory leaks in your application.
        </p>
    </div>
</section>
<hr />
<section id="example">
    <h2>Example Code</h2>

    {% highlight c# %}
byte[] photoBytes = File.ReadAllBytes(file);
// Format is automatically detected though can be changed
ISupportedImageFormat format = new JpegFormat { Quality = 70 };
Size size = new Size(150, 0)
using (MemoryStream inStream = new MemoryStream(photoBytes))
{
    using (MemoryStream outStream = new MemoryStream())
    {
        // Initialize the ImageFactory using the overload to preserve EXIF metadata.
        using (ImageFactory imageFactory = new ImageFactory(preserveExifData:true))
        {
            // Load, resize, set the format and quality and save an image.
            imageFactory.Load(inStream)
                        .Resize(size)
                        .Format(format)
                        .Save(outStream);
        }
        // Do something with the stream.
    }
}
    {% endhighlight %}
</section>
